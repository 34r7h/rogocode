{"version":3,"sources":["api-service.es6"],"names":[],"mappings":"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","file":"api-service.js","sourcesContent":["let fb = new Firebase('https://rogocode.firebaseio.com/');\nlet fbWords = new Firebase('https://rogocode.firebaseio.com/words');\nlet fbAbout = new Firebase('https://rogocode.firebaseio.com/about');\n\n(function () {\n  'use strict';\n\n  class Api {\n    constructor($firebaseObject, $firebaseArray, $firebaseAuth, $rootScope) {\n      let authObj = $firebaseAuth(fb);\n      let authData = authObj.$getAuth();\n\n      if (authData) {\n        console.log(\"Logged in as:\", authData.uid);\n        $rootScope.auth = authData.uid;\n      } else {\n        console.log(\"Logged out\");\n        $rootScope.auth = null;\n\n      }\n      let data = $firebaseObject(fb);\n      let dataWords = $firebaseObject(fbWords);\n      let dataArray = $firebaseArray(fb);\n      let wordsArray = $firebaseArray(fb.child('words'));\n      let about = $firebaseObject(fbAbout);\n      this.log = (args)=>{\n        typeof args !== 'string' && typeof args !== 'number' ?\n          angular.forEach(args, (arg)=>{console.log(arg);}) :\n          console.log(args);\n      };\n      this.data = data;\n      this.dataWords = dataWords;\n      this.dataArray = dataArray;\n      this.wordsArray = wordsArray;\n      this.about = about;\n      this.methods = {\n        logout: ()=>{\n          var login = $firebaseAuth(fb);\n          login.$unauth();\n          $rootScope.auth = null;\n        },\n        login: (user, pass)=>{\n          var login = $firebaseAuth(fb);\n          login.$authWithPassword({\n            email: user,\n            password: pass\n          }).then(function(authData) {\n            $rootScope.auth = authData.uid;\n            console.log(\"Logged in as:\", authData.uid);\n          }).catch(function(error) {\n            console.error(\"Authentication failed:\", error);\n          });\n        },\n        add: (word)=>{\n          $firebaseArray(fb.child('words')).$loaded().then((data)=>{\n            var time = Date.now();\n            word.name ? (word.created = time, data.$add(word)):\n            this.log('Something Missing?');\n          });\n          this.log(word)\n        },\n/*\n        saveAll: ()=>{\n          var obj = $firebaseObject(fb).$loaded().then((words)=>{\n            words.words = this.data.words;\n            words.$save().then(function(ref) {\n              ref.key() === obj.$id; // true\n              console.log('saved', ref);\n            }, function(error) {\n              console.log(\"Error:\", error);\n            });\n          });\n        },\n*/\n        save: (id, object)=>{\n          var id = id;\n          var object = object;\n          var obj = $firebaseObject(fbWords).$loaded().then((words)=>{\n            console.log('save words', words);\n            console.debug(id, object);\n            words[id] = object;\n            words.$save().then(function(ref) {\n              ref.key() === obj.$id; // true\n              console.log('saved', ref);\n            }, function(error) {\n              console.log(\"Error:\", error);\n            });\n          });\n        },\n        saveAbout: (blurb)=>{\n          var object = object;\n          var obj = $firebaseObject(fb).$loaded().then((data)=>{\n            console.log('save about', data.about);\n            data.about = blurb;\n            data.$save().then(function(ref) {\n              ref.key() === obj.$id; // true\n              console.log('saved about', ref);\n            }, function(error) {\n              console.log(\"Error:\", error);\n            });\n          });\n        },\n        remove: (wordId)=>{\n          var ref = fb.child('words/'+wordId);\n          var obj = $firebaseObject(ref);\n          obj.$remove().then(function(ref) {\n            console.log('word removed');\n          }, function(error) {\n            console.log(\"Error:\", error);\n          });\n        }\n      }\n    }\n\n    get() {\n      return 'Api';\n    }\n  }\n\n  /**\n   * @ngdoc service\n   * @name rogocode.service:Api\n   *\n   * @description\n   *\n   */\n  angular\n    .module('rogocode')\n    .service('Api', Api);\n}());\n"],"sourceRoot":"/source/"}